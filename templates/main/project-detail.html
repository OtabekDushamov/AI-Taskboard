{% extends 'base.html' %}

{% block title %}Project Detail - AI Taskboard{% endblock %}

{% block extra_css %}
<style>
    .progress-bar {
        height: 8px;
        border-radius: 4px;
        background-color: #e2e8f0;
    }
    .progress-fill {
        height: 100%;
        border-radius: 4px;
        background-color: #3b82f6;
        transition: width 0.3s ease;
    }
    .dark .progress-bar {
        background-color: #334155;
    }
    .avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: 12px;
    }
    .timeline-item:not(:last-child)::after {
        content: '';
        position: absolute;
        left: 11px;
        top: 24px;
        height: calc(100% - 24px);
        width: 2px;
        background-color: #e2e8f0;
    }
    .dark .timeline-item:not(:last-child)::after {
        background-color: #334155;
    }
    .tab-active {
        border-bottom: 2px solid #3b82f6;
        color: #3b82f6;
    }
    .dark .tab-active {
        color: #60a5fa;
        border-bottom-color: #60a5fa;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-6 max-w-7xl">
    <!-- Header -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6">
            <div>
                <h1 class="text-2xl font-bold dark:text-white">Website Redesign Project</h1>
                <div class="flex items-center gap-2 mt-2">
                    <span class="text-sm text-gray-500 dark:text-gray-400">Owned by</span>
                    <div class="flex items-center">
                        <div class="avatar bg-blue-500">JD</div>
                        <span class="ml-2 text-sm font-medium dark:text-white">John Doe</span>
                    </div>
                </div>
            </div>
            <div class="flex items-center gap-3">
                <div class="relative">
                    <select class="appearance-none bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md py-1 pl-3 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white">
                        <option>In Progress</option>
                        <option>Planning</option>
                        <option>Completed</option>
                        <option>On Hold</option>
                    </select>
                    <div class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
                        <i class="fas fa-chevron-down text-gray-400 text-xs"></i>
                    </div>
                </div>
                <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200">
                    <i class="fas fa-edit mr-2"></i>Edit Project
                </button>
            </div>
        </div>

        <!-- Project Stats -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
            <div class="text-center">
                <div class="text-2xl font-bold text-gray-900 dark:text-white">75%</div>
                <div class="text-sm text-gray-500 dark:text-gray-400">Progress</div>
                <div class="progress-bar mt-2">
                    <div class="progress-fill" style="width: 75%"></div>
                </div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-gray-900 dark:text-white">12</div>
                <div class="text-sm text-gray-500 dark:text-gray-400">Tasks Completed</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-gray-900 dark:text-white">4</div>
                <div class="text-sm text-gray-500 dark:text-gray-400">Tasks Remaining</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold text-gray-900 dark:text-white">Dec 15</div>
                <div class="text-sm text-gray-500 dark:text-gray-400">Due Date</div>
            </div>
        </div>
    </div>

    <!-- Tabs -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow mb-6">
        <div class="border-b border-gray-200 dark:border-gray-700">
            <nav class="flex space-x-8 px-6">
                <button class="tab-btn py-4 text-sm font-medium text-gray-500 dark:text-gray-400 border-b-2 border-transparent hover:text-gray-700 dark:hover:text-gray-300 tab-active">
                    Overview
                </button>
                <button class="tab-btn py-4 text-sm font-medium text-gray-500 dark:text-gray-400 border-b-2 border-transparent hover:text-gray-700 dark:hover:text-gray-300">
                    Tasks
                </button>
                <button class="tab-btn py-4 text-sm font-medium text-gray-500 dark:text-gray-400 border-b-2 border-transparent hover:text-gray-700 dark:hover:text-gray-300">
                    Team
                </button>
                <button class="tab-btn py-4 text-sm font-medium text-gray-500 dark:text-gray-400 border-b-2 border-transparent hover:text-gray-700 dark:hover:text-gray-300">
                    Timeline
                </button>
            </nav>
        </div>

        <!-- Tab Content -->
        <div class="p-6">
            <!-- Overview Tab -->
            <div id="overview" class="tab-content">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Project Description -->
                    <div>
                        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Project Description</h3>
                        <p class="text-gray-600 dark:text-gray-400 mb-4">
                            Complete overhaul of the company website with modern design principles, improved user experience, and mobile-first responsive design. The project includes new content management system integration and performance optimization.
                        </p>
                        <div class="space-y-3">
                            <div class="flex items-center">
                                <i class="fas fa-calendar text-gray-400 mr-3"></i>
                                <span class="text-sm text-gray-600 dark:text-gray-400">Started: Oct 1, 2024</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-clock text-gray-400 mr-3"></i>
                                <span class="text-sm text-gray-600 dark:text-gray-400">Estimated: 8 weeks</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-tag text-gray-400 mr-3"></i>
                                <span class="text-sm text-gray-600 dark:text-gray-400">Category: Design & Development</span>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div>
                        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Recent Activity</h3>
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <div class="w-6 h-6 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mr-3 mt-1">
                                    <i class="fas fa-check text-green-600 dark:text-green-400 text-xs"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-900 dark:text-white">Task "Design homepage layout" completed</p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">2 hours ago by John Doe</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="w-6 h-6 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mr-3 mt-1">
                                    <i class="fas fa-comment text-blue-600 dark:text-blue-400 text-xs"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-900 dark:text-white">Comment added to "Implement navigation"</p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">4 hours ago by Sarah Smith</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="w-6 h-6 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mr-3 mt-1">
                                    <i class="fas fa-plus text-purple-600 dark:text-purple-400 text-xs"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-900 dark:text-white">New task "Mobile optimization" added</p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">1 day ago by Mike Johnson</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tasks Tab (Hidden by default) -->
            <div id="tasks" class="tab-content hidden">
                <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Project Tasks</h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div class="flex items-center">
                            <input type="checkbox" class="mr-3" checked>
                            <span class="text-sm font-medium text-gray-900 dark:text-white">Design homepage layout</span>
                        </div>
                        <span class="text-xs text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded-full">Completed</span>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div class="flex items-center">
                            <input type="checkbox" class="mr-3">
                            <span class="text-sm font-medium text-gray-900 dark:text-white">Implement navigation</span>
                        </div>
                        <span class="text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full">In Progress</span>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div class="flex items-center">
                            <input type="checkbox" class="mr-3">
                            <span class="text-sm font-medium text-gray-900 dark:text-white">Mobile optimization</span>
                        </div>
                        <span class="text-xs text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full">To Do</span>
                    </div>
                </div>
            </div>

            <!-- Team Tab (Hidden by default) -->
            <div id="team" class="tab-content hidden">
                <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Project Team</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="flex items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div class="avatar bg-blue-500 mr-3">JD</div>
                        <div>
                            <div class="text-sm font-medium text-gray-900 dark:text-white">John Doe</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">Project Manager</div>
                        </div>
                    </div>
                    <div class="flex items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div class="avatar bg-green-500 mr-3">SS</div>
                        <div>
                            <div class="text-sm font-medium text-gray-900 dark:text-white">Sarah Smith</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">Frontend Developer</div>
                        </div>
                    </div>
                    <div class="flex items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div class="avatar bg-purple-500 mr-3">MJ</div>
                        <div>
                            <div class="text-sm font-medium text-gray-900 dark:text-white">Mike Johnson</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">Designer</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Timeline Tab (Hidden by default) -->
            <div id="timeline" class="tab-content hidden">
                <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Project Timeline</h3>
                <div class="relative">
                    <div class="timeline-item relative pl-8 pb-6">
                        <div class="absolute left-0 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-play text-white text-xs"></i>
                        </div>
                        <div class="text-sm font-medium text-gray-900 dark:text-white">Project Started</div>
                        <div class="text-xs text-gray-500 dark:text-gray-400">Oct 1, 2024</div>
                    </div>
                    <div class="timeline-item relative pl-8 pb-6">
                        <div class="absolute left-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-check text-white text-xs"></i>
                        </div>
                        <div class="text-sm font-medium text-gray-900 dark:text-white">Design Phase Complete</div>
                        <div class="text-xs text-gray-500 dark:text-gray-400">Oct 15, 2024</div>
                    </div>
                    <div class="timeline-item relative pl-8 pb-6">
                        <div class="absolute left-0 w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-clock text-white text-xs"></i>
                        </div>
                        <div class="text-sm font-medium text-gray-900 dark:text-white">Development Phase</div>
                        <div class="text-xs text-gray-500 dark:text-gray-400">Oct 16 - Nov 30, 2024</div>
                    </div>
                    <div class="timeline-item relative pl-8">
                        <div class="absolute left-0 w-6 h-6 bg-gray-400 rounded-full flex items-center justify-center">
                            <i class="fas fa-flag text-white text-xs"></i>
                        </div>
                        <div class="text-sm font-medium text-gray-900 dark:text-white">Project Complete</div>
                        <div class="text-xs text-gray-500 dark:text-gray-400">Dec 15, 2024</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Tab switching functionality
    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            // Remove active class from all tabs
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('tab-active'));
            // Add active class to clicked tab
            this.classList.add('tab-active');
            
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => content.classList.add('hidden'));
            
            // Show corresponding tab content
            const tabName = this.textContent.toLowerCase();
            if (tabName === 'overview') {
                document.getElementById('overview').classList.remove('hidden');
            } else if (tabName === 'tasks') {
                document.getElementById('tasks').classList.remove('hidden');
            } else if (tabName === 'team') {
                document.getElementById('team').classList.remove('hidden');
            } else if (tabName === 'timeline') {
                document.getElementById('timeline').classList.remove('hidden');
            }
        });
    });
</script>
{% endblock %}